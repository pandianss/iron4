"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const elements_1 = require("@boundaries/elements");
const Settings_1 = require("../Settings");
const Support_1 = require("./Support");
const { RULE_NO_UNKNOWN } = Settings_1.SETTINGS;
exports.default = (0, Support_1.dependencyRule)({
    schema: [],
    ruleName: RULE_NO_UNKNOWN,
    description: `Prevent importing unknown elements from the known ones`,
}, function ({ dependency, node, context }) {
    if (!dependency.to.isIgnored &&
        (0, elements_1.isLocalDependencyElement)(dependency.to) &&
        dependency.to.isUnknown) {
        context.report({
            message: `Importing unknown elements is not allowed`,
            node: node,
        });
    }
}, {
    validate: false,
});
